{
  "kind": "build_request",
  "title": "Add authentication system with admin, farmer, and buyer login/signup as home page",
  "projectName": "FARMAI",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-10",
      "text": "Create a new authentication home page that serves as the landing page with three distinct login/signup options: Admin Login, Farmer Sign In/Sign Up, and Buyer Login/Sign Up",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-7"
        ],
        "quotes": [
          "for this can u add me up the admin login framer sign in login then buyer login sign sign as the home page"
        ]
      },
      "acceptanceCriteria": [
        "The authentication page replaces the current landing page as the home route ('/')",
        "Three clearly separated sections are displayed for Admin, Farmer, and Buyer authentication",
        "Each section has appropriate visual styling matching the agricultural theme",
        "Navigation links are updated to reflect the new authentication flow"
      ]
    },
    {
      "id": "REQ-11",
      "text": "Implement Admin Login form with email/password fields and login button that authenticates admin users",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-7"
        ],
        "quotes": [
          "admin login"
        ]
      },
      "acceptanceCriteria": [
        "Admin login form includes email and password input fields",
        "Login button triggers authentication logic",
        "Successful admin login redirects to an admin dashboard or management interface",
        "Error messages display for invalid credentials",
        "Admin credentials are validated against backend storage"
      ]
    },
    {
      "id": "REQ-12",
      "text": "Implement Farmer Sign In and Sign Up forms with email/password fields, allowing farmers to create new accounts or log into existing accounts",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-7"
        ],
        "quotes": [
          "framer sign in login"
        ]
      },
      "acceptanceCriteria": [
        "Farmer section includes toggle or tabs to switch between Sign In and Sign Up",
        "Sign Up form collects email, password, and confirmation password with validation",
        "Sign In form includes email and password fields",
        "Successful farmer authentication redirects to the existing farmer dashboard",
        "New farmer accounts are stored in backend with appropriate user type designation",
        "Error handling for duplicate emails during signup and invalid credentials during signin"
      ]
    },
    {
      "id": "REQ-13",
      "text": "Implement Buyer Login and Sign Up forms with email/password fields, allowing buyers to create new accounts or log into existing accounts",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-7"
        ],
        "quotes": [
          "buyer login sign sign"
        ]
      },
      "acceptanceCriteria": [
        "Buyer section includes toggle or tabs to switch between Login and Sign Up",
        "Sign Up form collects email, password, and confirmation password with validation",
        "Login form includes email and password fields",
        "Successful buyer authentication redirects to the marketplace page or a buyer-specific view",
        "New buyer accounts are stored in backend with appropriate user type designation",
        "Error handling for duplicate emails during signup and invalid credentials during login"
      ]
    },
    {
      "id": "REQ-14",
      "text": "Create backend data structures and functions to store and manage user accounts with distinct user types (admin, farmer, buyer) including email, hashed password, and user role",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-7"
        ]
      },
      "acceptanceCriteria": [
        "Backend defines user record type with fields for email, password hash, user type, and unique ID",
        "Stable storage is used to persist user accounts across canister upgrades",
        "Functions implemented for user registration, authentication, and role verification",
        "Password hashing is implemented for secure credential storage",
        "Duplicate email registration is prevented"
      ]
    },
    {
      "id": "REQ-15",
      "text": "Update the application routing so the new authentication page is the home route ('/') and the previous landing page content is moved to a different route or integrated appropriately",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-7"
        ],
        "quotes": [
          "as the home page"
        ]
      },
      "acceptanceCriteria": [
        "The authentication page is set as the root route ('/') in the router configuration",
        "Navigation links are updated to reflect the new structure",
        "The previous landing page content is accessible through a different route (e.g., '/about' or integrated after login)",
        "Protected routes (dashboard, calculators, marketplace) require authentication to access"
      ]
    },
    {
      "id": "REQ-16",
      "text": "Implement session management to maintain user authentication state across page refreshes and provide logout functionality",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-7"
        ]
      },
      "acceptanceCriteria": [
        "User authentication state persists across page refreshes using secure session storage",
        "Logout button is available in the navigation for authenticated users",
        "Logging out clears the session and redirects to the authentication home page",
        "Protected routes redirect unauthenticated users to the authentication page"
      ]
    }
  ],
  "constraints": [
    "Do not modify frontend/src/hooks/useInternetIdentity.ts or frontend/src/hooks/useActor.ts",
    "Do not edit files in frontend/src/components/ui",
    "Maintain the existing agricultural theme with earth tones and consistent styling",
    "Keep all Motoko logic in backend/main.mo within the single-actor architecture"
  ],
  "nonGoals": [
    "Integration with external authentication providers (Facebook, Google, etc.)",
    "Two-factor authentication",
    "Email verification or password reset functionality",
    "Social login options",
    "OAuth or third-party identity services beyond Internet Identity"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}